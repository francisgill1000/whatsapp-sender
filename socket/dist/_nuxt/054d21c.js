(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{871:function(e,t,n){"use strict";n.r(t);var r=n(778),o=n(768),l=n(731),d=n(866),c=n(744),m=(n(25),n(172),n(170),n(76),{layout:"login",data:function(){return{dialogForgotPassword:!1,maskMobileNumber:"",whatsappFormValid:!0,logo:"/ideaHRMS-final-blue.svg",valid:!0,loading:!1,snackbar:!1,snackbarMessage:"",show_password:!1,msg:"",requiredRules:[function(e){return!!e||"Required"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"}],dialogWhatsapp:!1,otp:"",userId:"",credentials:{email:"admin",password:"admin"}}},created:function(){this.$store.dispatch("dashboard/resetState"),this.$store.dispatch("resetState"),this.verifyToken()},mounted:function(){},methods:{openForgotPassword:function(){this.dialogForgotPassword=!0},verifyToken:function(){this.$route.query.email&&this.$route.query.password&&(this.email=this.$route.query.email,this.password=this.$route.query.password,this.loginWithOTP())},hideMobileNumber:function(e){if("string"!=typeof e||e.length<4)return e;var t=e.match(/^(.*)(\d{5})$/);if(t){var n=t[1],r=t[2];return"*".repeat(n.length)+r}return e},login:function(){var e=this;this.$refs.form.validate()?(this.msg="",this.loading=!0,this.$auth.loginWith("local",{data:this.credentials}).then((function(e){e.data})).catch((function(t){var n=t.response;if(!n)return!1;var r=n.status,data=n.data,o=n.statusText;e.msg=422==r?data.message:o,setTimeout((function(){return e.loading=!1}),2e3)}))):(this.snackbar=!0,this.snackbarMessage="Invalid Emaild and Password")}}}),h=n(74),component=Object(h.a)(m,(function(){var e=this,t=e._self._c;return t(l.a,{staticClass:"d-flex align-center justify-center",staticStyle:{"min-height":"100vh","background-color":"#f5f5f5"},attrs:{fluid:""}},[t(o.a,{staticClass:"pa-5",attrs:{"max-width":"400"}},[t(d.a,{ref:"form",attrs:{method:"post","lazy-validation":"",autocomplete:"off"},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("h2",{staticClass:"text-center mb-5 text-primary"},[e._v("My App")]),e._v(" "),t(c.a,{attrs:{label:"Email",type:"email","prepend-inner-icon":"mdi-account","append-icon":"mdi-at",outlined:"",dense:"",required:""},model:{value:e.credentials.email,callback:function(t){e.$set(e.credentials,"email",t)},expression:"credentials.email"}}),e._v(" "),t(c.a,{attrs:{label:"Password",type:e.show_password?"text":"password","prepend-inner-icon":"mdi-lock","append-icon":e.show_password?"mdi-eye":"mdi-eye-off",outlined:"",dense:""},on:{"click:append":function(t){e.show_password=!e.show_password}},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}}),e._v(" "),e.msg?t("span",{staticClass:"error--text text-center d-block my-2"},[e._v("\n        "+e._s(e.msg)+"\n      ")]):e._e(),e._v(" "),t(r.a,{staticClass:"mt-3",attrs:{block:"",color:"primary",loading:e.loading},on:{click:e.login}},[e._v("\n        Login\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);